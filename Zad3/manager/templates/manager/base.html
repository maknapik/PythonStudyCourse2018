<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css"/>
    {% load staticfiles %}
    {% load ifmatches %}
    <link rel="stylesheet" type="text/css" href="{% static 'manager/style.css' %}"/>
</head>
<body>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#topNavBar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a class="navbar-brand" href="{% url 'manager:home' %}">Manager</a>
            </div>
            {% with url_name=request.path %}
            <div class="collapse navbar-collapse" id="topNavBar">
                <ul class="nav navbar-nav">
                    <li class="nav-item {% ifmatches url_name "[a-z]+/groups/$" %}active{% endifmatches %}">
                        <a href="{% url 'manager:groups' %}">
                            <span class="glyphicon glyphicon-briefcase"></span>
                            Groups
                        </a>
                    </li>
                    <li class="nav-item {% if url_name == 'employees' %}active{% endif %}">
                        <a href="{% url 'manager:employees' %}">
                            <span class="glyphicon glyphicon-user"></span>
                            Employees
                        </a>
                    </li>
                    <li class="nav-item {% if url_name == 'projects' %}active{% endif %}">
                        <a href="{% url 'manager:projects' %}">
                            <span class="glyphicon glyphicon-tasks"></span>
                            Projects
                        </a>
                    </li>
                </ul>
            {% ifmatches url_name "[a-z]+/groups/$" %}
                <ul class="nav navbar-nav navbar-right">
                  <li>
                      <a href="{% url 'manager:add_group' %}">
                            <span class="glyphicon glyphicon-plus"></span>
                            Add group
                      </a>
                  </li>
                </ul>
            {% endifmatches %}
            {% if '/employees/' in url_name %}
                <ul class="nav navbar-nav navbar-right">
                  <li>
                      <a href="{% url 'manager:groups' %}">
                            <span class="glyphicon glyphicon-plus"></span>
                            Add employee
                      </a>
                  </li>
                </ul>
            {% endif %}
            {% if '/projects/' in url_name %}
                <ul class="nav navbar-nav navbar-right">
                  <li>
                      <a href="{% url 'manager:groups' %}">
                            <span class="glyphicon glyphicon-plus"></span>
                            Add project
                      </a>
                  </li>
                </ul>
            {% endif %}
            {% ifmatches url_name "[a-z]+/groups/[0-9]+/$" %}
                <ul class="nav navbar-nav navbar-right">
                  <li>
                      <a href="{% url 'manager:update_group' group.id %}">
                            <span class="glyphicon glyphicon-plus"></span>
                            Edit group
                      </a>
                  </li>
                </ul>
            {% endifmatches %}
            </div>
            {% endwith %}
        </div>
    </nav>
    {% block body %}
    {% endblock %}
</body>
</html>
